<!doctype html>
<html>
<head>
<link rel="stylesheet" href='/static/style.css' />
    <title>Jonnys SmartHome </title>
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

    <script>

    function on(id) {
        var request = $.ajax({
          url: "/on/" + id,
          success: function( result ) {
            console.log(result)
            $( "#relais.status" + id ).html( "<strong><font color=\"green\">AN</font></strong>" );
          }
        });
    }

     function off(id) {
        var request = $.ajax({
          url: "/off/" + id,
          success: function( result ) {
            console.log(result)
            $( "#relais.status" + id ).html( "<strong><font color=\"red\">AUS</font></strong>" );
          }
        });
    }

    function getStates() {
        var request = $.ajax({
          url: "/state",
          success: function( result ) {
            console.log(result)
            $( "#relais.status0" ).html( "<strong><font color=\"red\">AN</font></strong>" );


          }
        });
    }


</script>

  <script>
    getStates();
  </script>
<meta charset="utf-8" />

</head>
<body>

  <h2>SmartHome</h2>
    <table>
      <tr>
          <td>Steckdose 1</td>
          <td><input type="button" value="on" onClick="on(0)"></td>
          <td><input type="button" value="off" onClick="off(0)"></td>
          <td><div id="relais" class="status0"></div></td>
      </tr>
      <tr>
        <td>Steckdose 2</td>
          <td><input type="button" value="on" onClick="on(1)"></td>
          <td><input type="button" value="off" onClick="off(1)"></td>
          <td><div id="relais" class="status1"></div></td>
      </tr>
      <tr>
        <td>Steckdose 3</td>
          <td><input type="button" value="on" onClick="on(2)"></td>
          <td><input type="button" value="off" onClick="off(2)"></td>
          <td><div id="relais" class="status2"></div></td>
      </tr>
      <tr>
        <td>Steckdose 4</td>
          <td><input type="button" value="on" onClick="on(3)"></td>
          <td><input type="button" value="off" onClick="off(3)"></td>
          <td><div id="relais" class="status3"></div></td>
      </tr>
  </table>
      <td><input type="button" value="Aktualisieren" onClick="getStates()"></td>



</body>